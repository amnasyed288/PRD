{
  "app_flow_tree": {
    "app_name": "AI Music Maker",
    "total_flows": 8,
    "total_screens": 34,
    "app_screen_flows": [
      {
        "flow_name": "Onboarding and Authentication",
        "screens": [
          {
            "screen_name": "Welcome",
            "actions": [
              {
                "user_action": "Taps 'Get Started'",
                "next_screen": "Sign Up Options"
              },
              {
                "user_action": "Taps 'Log In'",
                "next_screen": "Log In"
              }
            ]
          },
          {
            "screen_name": "Sign Up Options",
            "actions": [
              {
                "user_action": "Taps 'Continue with Google'",
                "next_screen": "Create Home"
              },
              {
                "user_action": "Taps 'Continue with Apple'",
                "next_screen": "Create Home"
              },
              {
                "user_action": "Taps 'Sign up with email'",
                "next_screen": "Email Sign Up"
              },
              {
                "user_action": "Taps 'Log in' link",
                "next_screen": "Log In"
              }
            ]
          },
          {
            "screen_name": "Email Sign Up",
            "actions": [
              {
                "user_action": "Enters email and password, taps 'Sign up'",
                "next_screen": "Create Home"
              },
              {
                "user_action": "Taps 'Log in' link",
                "next_screen": "Log In"
              }
            ]
          },
          {
            "screen_name": "Log In",
            "actions": [
              {
                "user_action": "Enters email and password, taps 'Log in'",
                "next_screen": "Create Home"
              },
              {
                "user_action": "Taps 'Sign up' link",
                "next_screen": "Email Sign Up"
              },
              {
                "user_action": "Taps 'Forgot Password?'",
                "next_screen": "Password Reset"
              }
            ]
          },
          {
            "screen_name": "Password Reset",
            "actions": [
              {
                "user_action": "Enters email, taps 'Send Reset Link'",
                "next_screen": "Log In"
              }
            ]
          }
        ]
      },
      {
        "flow_name": "Main App Navigation",
        "screens": [
          {
            "screen_name": "Create Home",
            "actions": [
              {
                "user_action": "Taps 'Create' tab (current)",
                "next_screen": "Create Home"
              },
              {
                "user_action": "Taps 'Explore' tab",
                "next_screen": "Explore"
              },
              {
                "user_action": "Taps 'My Music' tab",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps 'Profile' tab",
                "next_screen": "Profile"
              }
            ]
          },
          {
            "screen_name": "Explore",
            "actions": [
              {
                "user_action": "Taps 'Create' tab",
                "next_screen": "Create Home"
              },
              {
                "user_action": "Taps 'Explore' tab (current)",
                "next_screen": "Explore"
              },
              {
                "user_action": "Taps 'My Music' tab",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps 'Profile' tab",
                "next_screen": "Profile"
              }
            ]
          },
          {
            "screen_name": "My Music - Queue",
            "actions": [
              {
                "user_action": "Taps 'Create' tab",
                "next_screen": "Create Home"
              },
              {
                "user_action": "Taps 'Explore' tab",
                "next_screen": "Explore"
              },
              {
                "user_action": "Taps 'My Music' tab (current)",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps 'Profile' tab",
                "next_screen": "Profile"
              }
            ]
          },
          {
            "screen_name": "Profile",
            "actions": [
              {
                "user_action": "Taps 'Create' tab",
                "next_screen": "Create Home"
              },
              {
                "user_action": "Taps 'Explore' tab",
                "next_screen": "Explore"
              },
              {
                "user_action": "Taps 'My Music' tab",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps 'Profile' tab (current)",
                "next_screen": "Profile"
              }
            ]
          }
        ]
      },
      {
        "flow_name": "Core Music Creation",
        "screens": [
          {
            "screen_name": "Create Home",
            "actions": [
              {
                "user_action": "Taps 'Text-to-Music'",
                "next_screen": "Text Generation"
              },
              {
                "user_action": "Taps 'Photo-to-Music'",
                "next_screen": "Photo Selection"
              },
              {
                "user_action": "Taps 'Studio Mode'",
                "next_screen": "Studio Mode Input"
              },
              {
                "user_action": "Taps 'Import Device Audio'",
                "next_screen": "Device File Picker"
              }
            ]
          },
          {
            "screen_name": "Text Generation",
            "actions": [
              {
                "user_action": "Enters text prompt, selects genre/mood/vocals, taps 'Generate'",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps 'Inspire Me'",
                "next_screen": "Inspire Me Overlay"
              },
              {
                "user_action": "Taps Back",
                "next_screen": "Create Home"
              }
            ]
          },
          {
            "screen_name": "Inspire Me Overlay",
            "actions": [
              {
                "user_action": "Selects a suggested prompt",
                "next_screen": "Text Generation"
              },
              {
                "user_action": "Taps close button",
                "next_screen": "Text Generation"
              }
            ]
          },
          {
            "screen_name": "Photo Selection",
            "actions": [
              {
                "user_action": "Taps 'Upload from Gallery'",
                "next_screen": "System File Picker"
              },
              {
                "user_action": "Taps 'Take Photo'",
                "next_screen": "Camera Interface"
              },
              {
                "user_action": "Taps Back",
                "next_screen": "Create Home"
              }
            ]
          },
          {
            "screen_name": "System File Picker",
            "actions": [
              {
                "user_action": "Selects a photo",
                "next_screen": "Photo Edit and Generation"
              },
              {
                "user_action": "Cancels selection",
                "next_screen": "Photo Selection"
              }
            ]
          },
          {
            "screen_name": "Camera Interface",
            "actions": [
              {
                "user_action": "Captures a photo",
                "next_screen": "Photo Edit and Generation"
              },
              {
                "user_action": "Cancels capture",
                "next_screen": "Photo Selection"
              }
            ]
          },
          {
            "screen_name": "Photo Edit and Generation",
            "actions": [
              {
                "user_action": "Crops photo, selects mood/genre, taps 'Generate'",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps Back",
                "next_screen": "Photo Selection"
              }
            ]
          },
          {
            "screen_name": "Studio Mode Input",
            "actions": [
              {
                "user_action": "Enters Name, Relation, Occasion, Prompt, selects Style, taps 'Generate'",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps Back",
                "next_screen": "Create Home"
              }
            ]
          },
          {
            "screen_name": "Device File Picker",
            "actions": [
              {
                "user_action": "Selects an audio file",
                "next_screen": "Audio Processing"
              },
              {
                "user_action": "Cancels selection",
                "next_screen": "Create Home"
              }
            ]
          },
          {
            "screen_name": "Audio Processing",
            "actions": [
              {
                "user_action": "AI processing completes, shows remix suggestions",
                "next_screen": "Remix Preview"
              },
              {
                "user_action": "Processing fails, shows error message",
                "next_screen": "Create Home"
              }
            ]
          },
          {
            "screen_name": "Remix Preview",
            "actions": [
              {
                "user_action": "Listens to preview, taps 'Export'",
                "next_screen": "My Music - Library"
              },
              {
                "user_action": "Taps 'Try another suggestion'",
                "next_screen": "Audio Processing"
              },
              {
                "user_action": "Taps Back/Cancel",
                "next_screen": "Create Home"
              }
            ]
          }
        ]
      },
      {
        "flow_name": "Music Management (My Music)",
        "screens": [
          {
            "screen_name": "My Music - Queue",
            "actions": [
              {
                "user_action": "Taps 'Library' sub-tab",
                "next_screen": "My Music - Library"
              },
              {
                "user_action": "Taps 'Cancel' on a generating song",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps 'Regenerate' on an errored song",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps a completed song",
                "next_screen": "Song Playback"
              },
              {
                "user_action": "Receives push notification for completed song and taps it",
                "next_screen": "Song Playback"
              }
            ]
          },
          {
            "screen_name": "My Music - Library",
            "actions": [
              {
                "user_action": "Taps 'Queue' sub-tab",
                "next_screen": "My Music - Queue"
              },
              {
                "user_action": "Taps a song to play it",
                "next_screen": "Song Playback"
              },
              {
                "user_action": "Taps three-dot menu on a song",
                "next_screen": "Song Options Menu"
              }
            ]
          },
          {
            "screen_name": "Song Playback",
            "actions": [
              {
                "user_action": "Taps 'Download'",
                "next_screen": "My Music - Library"
              },
              {
                "user_action": "Taps 'Share'",
                "next_screen": "System Share Sheet"
              },
              {
                "user_action": "Taps 'Edit Lyrics'",
                "next_screen": "Lyrics Editor"
              },
              {
                "user_action": "Taps Back",
                "next_screen": "My Music - Library"
              }
            ]
          },
          {
            "screen_name": "Lyrics Editor",
            "actions": [
              {
                "user_action": "Edits lyrics and taps 'Save'",
                "next_screen": "Song Playback"
              },
              {
                "user_action": "Taps 'Regenerate Lyrics'",
                "next_screen": "Lyrics Editor"
              },
              {
                "user_action": "Taps 'Inspire Me' for lyrics",
                "next_screen": "Inspire Me Overlay"
              },
              {
                "user_action": "Taps Back/Cancel",
                "next_screen": "Song Playback"
              }
            ]
          },
          {
            "screen_name": "Song Options Menu",
            "actions": [
              {
                "user_action": "Taps 'Download'",
                "next_screen": "My Music - Library"
              },
              {
                "user_action": "Taps 'Share'",
                "next_screen": "System Share Sheet"
              },
              {
                "user_action": "Taps 'Edit Lyrics'",
                "next_screen": "Lyrics Editor"
              },
              {
                "user_action": "Taps 'Delete'",
                "next_screen": "My Music - Library"
              },
              {
                "user_action": "Taps outside menu to dismiss",
                "next_screen": "My Music - Library"
              }
            ]
          },
          {
            "screen_name": "System Share Sheet",
            "actions": [
              {
                "user_action": "Selects an app to share to or cancels",
                "next_screen": "Song Playback"
              }
            ]
          }
        ]
      },
      {
        "flow_name": "Music Discovery (Explore)",
        "screens": [
          {
            "screen_name": "Explore",
            "actions": [
              {
                "user_action": "Selects a category filter (e.g., 'Pop', 'Lo-Fi')",
                "next_screen": "Explore"
              },
              {
                "user_action": "Taps on a pre-generated song",
                "next_screen": "Song Playback"
              }
            ]
          }
        ]
      },
      {
        "flow_name": "Profile and Settings",
        "screens": [
          {
            "screen_name": "Profile",
            "actions": [
              {
                "user_action": "Taps 'Settings' (gear icon)",
                "next_screen": "Settings"
              },
              {
                "user_action": "Taps 'Get More Credits'",
                "next_screen": "Purchase Credits"
              }
            ]
          },
          {
            "screen_name": "Settings",
            "actions": [
              {
                "user_action": "Taps 'Account'",
                "next_screen": "Account Settings"
              },
              {
                "user_action": "Taps 'Notifications'",
                "next_screen": "Notification Settings"
              },
              {
                "user_action": "Taps 'Privacy Policy'",
                "next_screen": "Web View - Privacy Policy"
              },
              {
                "user_action": "Taps 'Log Out'",
                "next_screen": "Welcome"
              },
              {
                "user_action": "Taps Back",
                "next_screen": "Profile"
              }
            ]
          },
          {
            "screen_name": "Account Settings",
            "actions": [
              {
                "user_action": "Taps Back",
                "next_screen": "Settings"
              }
            ]
          },
          {
            "screen_name": "Notification Settings",
            "actions": [
              {
                "user_action": "Toggles settings on/off",
                "next_screen": "Notification Settings"
              },
              {
                "user_action": "Taps Back",
                "next_screen": "Settings"
              }
            ]
          },
          {
            "screen_name": "Web View - Privacy Policy",
            "actions": [
              {
                "user_action": "Taps Back or Done",
                "next_screen": "Settings"
              }
            ]
          }
        ]
      },
      {
        "flow_name": "Monetization",
        "screens": [
          {
            "screen_name": "Purchase Credits",
            "actions": [
              {
                "user_action": "Selects a credit pack and taps 'Purchase'",
                "next_screen": "In-App Purchase Confirmation"
              },
              {
                "user_action": "Taps Back/Close",
                "next_screen": "Profile"
              }
            ]
          },
          {
            "screen_name": "In-App Purchase Confirmation",
            "actions": [
              {
                "user_action": "Completes purchase via Google Play Store",
                "next_screen": "Purchase Successful"
              },
              {
                "user_action": "Cancels purchase",
                "next_screen": "Purchase Credits"
              }
            ]
          },
          {
            "screen_name": "Purchase Successful",
            "actions": [
              {
                "user_action": "Taps 'Done'",
                "next_screen": "Profile"
              }
            ]
          }
        ]
      },
      {
        "flow_name": "Permissions",
        "screens": [
          {
            "screen_name": "Photo Selection",
            "actions": [
              {
                "user_action": "Grants photo/camera permissions",
                "next_screen": "System File Picker"
              },
              {
                "user_action": "Denies photo/camera permissions",
                "next_screen": "Permission Denied Dialog"
              }
            ]
          },
          {
            "screen_name": "Device File Picker",
            "actions": [
              {
                "user_action": "Grants file access permissions",
                "next_screen": "Device File Picker"
              },
              {
                "user_action": "Denies file access permissions",
                "next_screen": "Permission Denied Dialog"
              }
            ]
          },
          {
            "screen_name": "Permission Denied Dialog",
            "actions": [
              {
                "user_action": "Taps 'Go to Settings' to enable manually",
                "next_screen": "System App Settings"
              },
              {
                "user_action": "Taps 'Cancel'",
                "next_screen": "Create Home"
              }
            ]
          },
          {
            "screen_name": "System App Settings",
            "actions": [
              {
                "user_action": "User manually changes permissions and returns to app",
                "next_screen": "Create Home"
              }
            ]
          }
        ]
      }
    ]
  }
}